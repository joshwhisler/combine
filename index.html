<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>COMBINE — Athletic Performance Rating</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&family=Space+Grotesk:wght@500;600;700&family=JetBrains+Mono:wght@400;500;600&display=swap" rel="stylesheet">
<link rel="stylesheet" href="style.css">
</head>
<body>

<!-- ARCADE CALLOUT OVERLAY -->
<div class="arcade-callout" id="arcadeCallout"></div>

<header>
  <div>
    <div class="logo">COM<span>B</span>INE</div>
    <div class="tagline">Athletic Performance Rating System</div>
  </div>
  <div class="tagline" style="text-align:right;">
    STRENGTH · POWER · CONDITIONING
  </div>
</header>

<div class="container">

  <!-- PROFILE -->
  <div class="section-label">Athlete Profile</div>
  <div class="profile-panel">
    <div class="profile-field">
      <label for="athleteName">Name</label>
      <input type="text" id="athleteName" placeholder="YOUR NAME" style="text-transform:uppercase">
    </div>
    <div class="profile-field">
      <label for="age">Age</label>
      <input type="number" id="age" placeholder="28" min="15" max="80">
    </div>
    <div class="profile-field">
      <label for="sex">Sex</label>
      <select id="sex">
        <option value="male">Male</option>
        <option value="female">Female</option>
      </select>
    </div>
    <div class="profile-field">
      <label for="bodyweight">Bodyweight (lbs)</label>
      <input type="number" id="bodyweight" placeholder="185" min="80" max="400">
    </div>
  </div>
  <div id="bwWarning" class="bw-note" style="display:none; color: var(--amber); margin-top:10px;"></div>

  <!-- METRICS -->
  <div class="metrics-grid">

    <!-- POWERLIFTING -->
    <div class="category-block">
      <div class="category-title">&#9889; Power Lifts</div>
      <div class="bw-note">Relative strength (lift &divide; bodyweight) used for normalization</div>

      <div class="metric-row">
        <span class="metric-name">Back Squat</span>
        <input type="number" class="metric-input" id="squat" placeholder="—">
        <span class="metric-unit">lbs</span>
      </div>
      <div class="metric-row">
        <span class="metric-name">Bench Press</span>
        <input type="number" class="metric-input" id="bench" placeholder="—">
        <span class="metric-unit">lbs</span>
      </div>
      <div class="metric-row">
        <span class="metric-name">Deadlift</span>
        <input type="number" class="metric-input" id="deadlift" placeholder="—">
        <span class="metric-unit">lbs</span>
      </div>
      <div class="metric-row">
        <span class="metric-name">Overhead Press</span>
        <input type="number" class="metric-input" id="ohp" placeholder="—">
        <span class="metric-unit">lbs</span>
      </div>
    </div>

    <!-- CONDITIONING -->
    <div class="category-block">
      <div class="category-title">&#129728; Conditioning Tests</div>

      <div class="metric-row">
        <span class="metric-name">VO&#8322; Max</span>
        <input type="number" class="metric-input" id="vo2max" placeholder="—" step="0.1">
        <span class="metric-unit">ml/kg</span>
      </div>
      <div class="metric-row">
        <span class="metric-name">Resting HR</span>
        <input type="number" class="metric-input" id="rhr" placeholder="—">
        <span class="metric-unit">bpm</span>
      </div>
      <div class="metric-row">
        <span class="metric-name">Max Push-Ups</span>
        <input type="number" class="metric-input" id="pushups" placeholder="—" min="0" max="200">
        <span class="metric-unit">reps</span>
      </div>
      <div class="metric-row">
        <span class="metric-name">L-Sit Hold</span>
        <input type="number" class="metric-input" id="lsit" placeholder="—" step="1" min="0" max="300">
        <span class="metric-unit">sec</span>
      </div>
    </div>

    <!-- RUNNING -->
    <div class="category-block">
      <div class="category-title">&#127939; Running Benchmarks</div>

      <div class="metric-row">
        <span class="metric-name">400m</span>
        <input type="number" class="metric-input" id="r400" placeholder="—" step="0.1" min="40" max="300">
        <span class="metric-unit">sec</span>
      </div>

      <div class="metric-row metric-row--time">
        <span class="metric-name">1 Mile / 1600m</span>
        <div class="time-input-group">
          <input type="number" class="metric-input time-min" id="r1600_min" placeholder="5" min="3" max="30">
          <span class="time-sep">:</span>
          <input type="number" class="metric-input time-sec" id="r1600_sec" placeholder="00" min="0" max="59" step="1">
        </div>
      </div>

      <div class="metric-row metric-row--time">
        <span class="metric-name">5K</span>
        <div class="time-input-group">
          <input type="number" class="metric-input time-min" id="r5k_min" placeholder="22" min="12" max="99">
          <span class="time-sep">:</span>
          <input type="number" class="metric-input time-sec" id="r5k_sec" placeholder="00" min="0" max="59" step="1">
        </div>
      </div>

    </div>

    <!-- STRENGTH ENDURANCE + ROWING -->
    <div class="category-block">
      <div class="category-title">&#128170; Strength Endurance &amp; Rowing</div>
      <div class="bw-note">BW Bench = max reps at your bodyweight · Row times via Concept2</div>

      <div class="metric-row">
        <span class="metric-name">Pull-Ups (max)</span>
        <input type="number" class="metric-input" id="pullups" placeholder="—" min="0" max="100">
        <span class="metric-unit">reps</span>
      </div>
      <div class="metric-row">
        <span class="metric-name">BW Bench Reps</span>
        <input type="number" class="metric-input" id="bwBenchReps" placeholder="—" min="0" max="80">
        <span class="metric-unit">reps</span>
      </div>
      <div class="metric-row">
        <span class="metric-name">Dead Hang</span>
        <input type="number" class="metric-input" id="deadHang" placeholder="—" step="1" min="0" max="600">
        <span class="metric-unit">sec</span>
      </div>

      <div class="metric-row metric-row--time">
        <span class="metric-name">Row 500m</span>
        <div class="time-input-group">
          <input type="number" class="metric-input time-min" id="row500_min" placeholder="1" min="1" max="5">
          <span class="time-sep">:</span>
          <input type="number" class="metric-input time-sec" id="row500_sec" placeholder="30" min="0" max="59" step="1">
        </div>
      </div>

      <div class="metric-row metric-row--time">
        <span class="metric-name">Row 5000m</span>
        <div class="time-input-group">
          <input type="number" class="metric-input time-min" id="row5k_min" placeholder="18" min="14" max="40">
          <span class="time-sep">:</span>
          <input type="number" class="metric-input time-sec" id="row5k_sec" placeholder="00" min="0" max="59" step="1">
        </div>
      </div>
    </div>

    <!-- EXPLOSIVENESS -->
    <div class="category-block">
      <div class="category-title">&#128640; Explosiveness</div>
      <div class="bw-note">Vertical = standing reach test · Broad jump from standing two-foot takeoff</div>

      <div class="metric-row">
        <span class="metric-name">Vertical Jump</span>
        <input type="number" class="metric-input" id="vertJump" placeholder="—" step="0.5" min="5" max="50">
        <span class="metric-unit">in</span>
      </div>
      <div class="metric-row">
        <span class="metric-name">Broad Jump</span>
        <input type="number" class="metric-input" id="broadJump" placeholder="—" step="1" min="30" max="150">
        <span class="metric-unit">in</span>
      </div>
    </div>

  </div>

  <div class="cta-wrapper">
    <button class="calc-btn" onclick="calculateRatings()">GENERATE RATINGS</button>
  </div>

  <!-- RESULTS -->
  <div id="results">

    <!-- OVERALL CARD -->
    <div class="section-label">Overall Rating</div>
    <div class="overall-card badge-anim" id="overallCard">
      <div class="rating-badge">
        <div class="rating-number" id="overallNum">--</div>
        <div class="rating-label">OVR</div>
        <div class="rating-tier" id="tierLabel">--</div>
      </div>
      <div class="rating-details">
        <div class="athlete-name-display" id="nameDisplay">ATHLETE</div>
        <div class="athlete-meta" id="metaDisplay">AGE · SEX · BW</div>
        <div class="percentile-display" id="percentileDisplay"></div>
      </div>
    </div>

    <!-- SAVE & SHARE -->
    <div class="action-btn-row">
      <button class="save-btn" onclick="saveResult()">&#128190; SAVE RESULT</button>
      <button class="share-btn" onclick="generateShareCard()">&#128248; SHARE CARD</button>
    </div>

    <!-- ATTRIBUTE BARS -->
    <div class="section-label">Category Ratings</div>
    <div class="attributes-row" id="attrRow"></div>

    <!-- WEAKEST LINK CALLOUT -->
    <div id="weakestLinkPanel" class="weakest-link-panel" style="display:none;"></div>

    <!-- SPIDER CHART -->
    <div class="section-label">Performance Profile</div>
    <div class="radar-wrapper">
      <canvas id="radarCanvas" width="420" height="420"></canvas>
    </div>

    <!-- BREAKDOWN TABLE -->
    <div class="section-label">Full Breakdown</div>
    <div class="breakdown-table">
      <div class="breakdown-header">
        <span>Metric</span>
        <span>Your Score</span>
        <span>Percentile</span>
        <span style="text-align:right">Rating</span>
      </div>
      <div id="breakdownBody"></div>
    </div>

    <!-- HISTORY -->
    <div class="section-label">Saved History</div>
    <div class="history-panel">
      <div class="history-header">
        <div class="history-title">&#128202; Past Results</div>
        <button class="history-clear-btn" onclick="clearHistory()">Clear All</button>
      </div>
      <div class="history-entries" id="historyEntries">
        <div class="history-empty">No saved results yet. Hit SAVE after generating ratings.</div>
      </div>
    </div>

    <!-- Compare legend (shown when comparing on radar) -->
    <div class="compare-legend" id="compareLegend" style="display:none;">
      <span><span class="compare-swatch" style="background:#f5a623;"></span> Current</span>
      <span><span class="compare-swatch" style="background:rgba(77,166,255,0.7);"></span> Previous</span>
    </div>

    <!-- Hidden canvas for share card generation -->
    <canvas id="shareCanvas" width="1080" height="1080"></canvas>

  </div><!-- /results -->
</div><!-- /container -->

<footer>COMBINE v2.0 · Percentiles derived from physiological research databases and population studies · For educational and training use only</footer>

<script src="app.js"></script>
</body>
</html>
